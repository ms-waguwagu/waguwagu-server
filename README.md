# ğŸ‘¾ **WAGUWAGU**

<h2 align="center">ğŸ® Pacman Multiplayer Project</h2>
<p align="center">HTML5 Canvas + NestJS WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ ê²Œì„</p>

# ğŸš€ í”„ë¡œì íŠ¸ ì†Œê°œ

ë³¸ í”„ë¡œì íŠ¸ëŠ” **ê³ ì „ Pac-Man**ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ
**5ì¸ ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ ì˜¨ë¼ì¸ ê²Œì„**ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

- í”„ë¡ íŠ¸ì—”ë“œ: HTML Canvas ê¸°ë°˜ Pac-Man ì—”ì§„ í™œìš©
- ë°±ì—”ë“œ: NestJS(WebSocket) ê¸°ë°˜ ì‹¤ì‹œê°„ ê²Œì„ ì„œë²„
- ì„œë²„ê°€ ëª¨ë“  ê²Œì„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” **Server Authoritative êµ¬ì¡°**
- í–¥í›„ DB/ë¦¬ë”ë³´ë“œ/ë§¤ì¹­/AI ë´‡ê¹Œì§€ í™•ì¥

---

# ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
waguwagu-server/
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ pacman-client.js                     
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ js/
â”‚       â”‚   â””â”€â”€ game/
â”‚       â”œâ”€â”€ pages/
â”‚       â”œâ”€â”€ styles/
â”‚       â””â”€â”€ index.html
â”‚
â”‚
â”œâ”€â”€ game-server/                  # ì‹¤ì‹œê°„ ê²Œì„ ì„œë²„ (WebSocket, Server-Authoritative)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.ts
â”‚       â”œâ”€â”€ app.module.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ gateway/
â”‚       â”‚   â””â”€â”€ game.gateway.ts   # í´ë¼ì´ì–¸íŠ¸ WS ì´ë²¤íŠ¸ ìˆ˜ì‹  ë° ìƒíƒœ ë¸Œë¡œë“œìºìŠ¤íŠ¸
â”‚       â”‚
â”‚       â”œâ”€â”€ room/                 # ì—¬ëŸ¬ ê²Œì„ë£¸ ê´€ë¦¬ (ë©€í‹° ì¸ìŠ¤í„´ìŠ¤ ê°€ëŠ¥)
â”‚       â”‚   â”œâ”€â”€ room-manager.service.ts
â”‚       â”‚   â””â”€â”€ room.entity.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ engine/               # ê²Œì„ í‹± ì—”ì§„ ë° ë¬¼ë¦¬ ì²˜ë¦¬
â”‚       â”‚   â”œâ”€â”€ game-engine.service.ts
â”‚       â”‚   â”œâ”€â”€ physics.service.ts
â”‚       â”‚   â””â”€â”€ score.service.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ state/                # ê²Œì„ ìƒíƒœ (read/write)
â”‚       â”‚   â”œâ”€â”€ game-state.ts
â”‚       â”‚   â””â”€â”€ player-state.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ types/
â”‚       â”‚   â”œâ”€â”€ direction.type.ts
â”‚       â”‚   â”œâ”€â”€ player.type.ts
â”‚       â”‚   â”œâ”€â”€ room.type.ts
â”‚       â”‚   â””â”€â”€ game-state.type.ts
â”‚       â”‚
â”‚       â””â”€â”€ map/
â”‚           â”œâ”€â”€ map.data.ts
â”‚           â””â”€â”€ map.service.ts
â”‚
â”‚
â”œâ”€â”€ matching-server/              # ë§¤ì¹­ + ì¸ì¦ ì„œë²„
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.ts
â”‚       â”œâ”€â”€ app.module.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â”œâ”€â”€ auth.controller.ts
â”‚       â”‚   â”œâ”€â”€ auth.service.ts
â”‚       â”‚   â””â”€â”€ jwt/
â”‚       â”‚
â”‚       â”œâ”€â”€ queue/                # ë§¤ì¹­ í ê´€ë¦¬
â”‚       â”‚   â”œâ”€â”€ queue.service.ts
â”‚       â”‚   â””â”€â”€ queue.entity.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ matching/          # ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜, ì›Œì»¤
â”‚       â”‚   â”œâ”€â”€ matching.service.ts
â”‚       â”‚   â”œâ”€â”€ matching.controller.ts
â”‚       â”‚   â””â”€â”€ matching.worker.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ gateway/              # ë§¤ì¹­ìš© WebSocket (ì„ íƒ)
â”‚       â”‚   â””â”€â”€ match.gateway.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ game-connector/       # game-server í†µì‹  ëª¨ë“ˆ
â”‚       â”‚   â””â”€â”€ game-server.client.ts  # REST or gRPC or Socket
â”‚       â”‚
â”‚       â””â”€â”€ record/
â”‚           â””â”€â”€ record.service.ts
â”‚
â”‚
â””â”€â”€ README.md
```

---

# ğŸ® ê²Œì„ ì„œë²„ êµ¬ì¡° ê°œë…

```
[Frontend Canvas] â† state sync â† [GameEngine (Server)]
        â†‘                             â†“
        input â†’ WebSocket â†’ RoomManager
```

âœ” í”„ë¡ íŠ¸ëŠ” **ì…ë ¥(input)**ë§Œ ì„œë²„ë¡œ ë³´ëƒ„
âœ” ì„œë²„ê°€ **ëª¨ë“  ì´ë™Â·ì¶©ëŒÂ·ì ìˆ˜ ê³„ì‚°** ë‹´ë‹¹
âœ” ì„œë²„ê°€ ê³„ì‚°í•œ GameStateë¥¼ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ë¸Œë¡œë“œìºìŠ¤íŠ¸
âœ” ë™ì¼í•œ ìƒíƒœê°€ ëª¨ë“  í”Œë ˆì´ì–´ì—ê²Œ ë™ê¸°í™”ë¨

---

# ğŸ‘¥ íŒ€ ê°œë°œ ê·œì¹™

### 1ï¸âƒ£ ì„œë²„ ìƒíƒœê°€ ì§„ì§œë‹¤ (Server Authoritative)

- í”„ë¡ íŠ¸ëŠ” ì ˆëŒ€ ìœ„ì¹˜/ì ìˆ˜ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ
- ì„œë²„ê°€ ë³´ë‚´ì¤€ ê°’ì„ ê·¸ëŒ€ë¡œ ë Œë”ë§í•œë‹¤

### 2ï¸âƒ£ íƒ€ì…ì€ ë°˜ë“œì‹œ `backend/src/game/types` ê¸°ì¤€ìœ¼ë¡œ ê³µìœ 

- GameState / PlayerState / RoomState í†µì¼

### 3ï¸âƒ£ íŒŒì¼ êµ¬ì¡°ë¥¼ ë§ˆìŒëŒ€ë¡œ ë°”ê¾¸ì§€ ì•ŠëŠ”ë‹¤

- êµ¬ì¡° ë³€ê²½ì€ íŒ€ ë¦¬ë” ìŠ¹ì¸ í›„ ì ìš©

### 4ï¸âƒ£ PRì€ ê¸°ëŠ¥ ë‹¨ìœ„ë¡œ ì‘ê²Œ

- â€œë§¤ì¹­ êµ¬í˜„ + ë°© ìƒì„± + ì—”ì§„ ë„£ìŒâ€ ê°™ì€ PR â†’ âŒ
- â€œë§¤ì¹­ í ì¶”ê°€â€, â€œRoom íƒ€ì… ì •ì˜â€ â†’ â­• ì¢‹ì€ PR ë°©ì‹

---

# ğŸ§© ê°œë°œ ë¡œë“œë§µ

### âœ” 0ë‹¨ê³„ â€” ê²Œì„ ê¸°ì´ˆ êµ¬í˜„
- PACMAN ê²Œì„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê²Œì„ ê¸°ì´ˆ êµ¬í˜„
- ë§µ ìƒì„±
- ë‹·(dot)ìœ¼ë¡œ ì ìˆ˜ ìƒì„± ë° ë­í¬ êµ¬í˜„
- ìœ ë ¹ ìŠ¤í°

### â—» 1ë‹¨ê³„ â€” ì—°ê²°

- WebSocket Gateway
- í”„ë¡ íŠ¸ â†” ì„œë²„ ì—°ê²°

### â—» 2ë‹¨ê³„ â€” íƒ€ì…/ê¸°ì´ˆ êµ¬ì¡° ì •ë¦¬ 

- GameState / Player / Room íƒ€ì… ì¶”ê°€
- ë””ë ‰í† ë¦¬ êµ¬ì¡° ì •ë¦¬

### â—» 3ë‹¨ê³„ â€” RoomManager êµ¬í˜„

- ë°© ìƒì„±/ì…ì¥/í‡´ì¥
- í”Œë ˆì´ì–´ ìŠ¤í°

### â—» 4ë‹¨ê³„ â€” GameEngine tick loop

- ì´ë™ ì²˜ë¦¬
- ì¶©ëŒ/í ë¦¿ ë¨¹ê¸°
- ì ìˆ˜ ê³„ì‚°

### â—» 5ë‹¨ê³„ â€” ë©€í‹°í”Œë ˆì´ ë Œë”ë§

- ì„œë²„ state ë°›ì€ ë’¤ canvas repaint

### â—» 6ë‹¨ê³„ â€” ë§¤ì¹­ ì‹œìŠ¤í…œ/ëŒ€ê¸°ì—´

### â—» 7ë‹¨ê³„ â€” AI bot

### â—» 8ë‹¨ê³„ â€” ë¦¬ë”ë³´ë“œ/DB

---

# âœ¨ COMMIT ë°©ë²•

```bash
git checkout -b feature/ë¸Œëœì¹˜ëª…
git commit -m "feat:ì„¤ëª…"
git push origin feature/ë¸Œëœì¹˜ëª…
```

---
